<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discord Clone</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí¨</text></svg>">
  <meta name="theme-color" content="#5865F2">
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-spinner"></div>
    <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (Discord —Å—Ç–∏–ª—å) -->
  <div id="auth-screen" class="auth-screen hidden">
    <div class="auth-container">
      <div class="auth-header">
        <div class="auth-logo">
          <svg width="40" height="40" viewBox="0 0 71 55" fill="none">
            <path d="M60.1045 0C63.6794 0 66.6667 2.98729 66.6667 6.56219V48.4378C66.6667 52.0127 63.6794 55 60.1045 55H55.8333V33.3333H60.1045C63.6794 33.3333 66.6667 30.346 66.6667 26.7711V6.56219C66.6667 2.98729 63.6794 0 60.1045 0Z" fill="#5865F2"/>
            <path d="M10.9378 55C7.36288 55 4.37559 52.0127 4.37559 48.4378V6.56219C4.37559 2.98729 7.36288 0 10.9378 0H15.2084V21.6667H10.9378C7.36288 21.6667 4.37559 24.654 4.37559 28.2289V48.4378C4.37559 52.0127 7.36288 55 10.9378 55Z" fill="#5865F2"/>
            <path d="M55.8333 0V21.6667H15.2084V0H10.9378C7.36288 0 4.37559 2.98729 4.37559 6.56219V48.4378C4.37559 52.0127 7.36288 55 10.9378 55H15.2084V33.3333H55.8333V55H60.1045C63.6794 55 66.6667 52.0127 66.6667 48.4378V6.56219C66.6667 2.98729 63.6794 0 60.1045 0H55.8333Z" fill="#5865F2"/>
          </svg>
        </div>
        <h1 id="auth-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
        <p id="auth-subtitle">–ú—ã —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞!</p>
      </div>

      <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
      <form id="login-form" class="auth-form">
        <div class="form-group">
          <label for="login-email">EMAIL –ò–õ–ò –ù–û–ú–ï–† –¢–ï–õ–ï–§–û–ù–ê</label>
          <input type="email" id="login-email" required autocomplete="email">
        </div>
        <div class="form-group">
          <label for="login-password">–ü–ê–†–û–õ–¨</label>
          <input type="password" id="login-password" required autocomplete="current-password">
        </div>
        <p class="auth-link"><a href="#" id="forgot-password">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a></p>
        <button type="submit" class="btn-primary" id="login-submit-btn">
          <span>–í–æ–π—Ç–∏</span>
        </button>
        <p class="auth-switch">–ù—É–∂–µ–Ω –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="switch-to-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
      </form>

      <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
      <form id="register-form" class="auth-form hidden">
        <div class="form-group">
          <label for="register-email">EMAIL</label>
          <input type="email" id="register-email" required autocomplete="email">
        </div>
        <div class="form-group">
          <label for="register-username">–ò–ú–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø</label>
          <input type="text" id="register-username" required minlength="2" maxlength="32" autocomplete="username">
        </div>
        <div class="form-group">
          <label for="register-password">–ü–ê–†–û–õ–¨</label>
          <input type="password" id="register-password" required minlength="8" autocomplete="new-password">
        </div>
        <div class="form-group">
          <label for="register-password-confirm">–ü–û–î–¢–í–ï–†–î–ò–¢–ï –ü–ê–†–û–õ–¨</label>
          <input type="password" id="register-password-confirm" required minlength="8" autocomplete="new-password">
        </div>
        <div id="password-match-error" class="error-message hidden" style="margin-top: -10px; margin-bottom: 10px;"></div>
        <button type="submit" class="btn-primary" id="register-submit-btn">
          <span>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
        </button>
        <p class="auth-switch">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="switch-to-login">–í–æ–π—Ç–∏</a></p>
        <p class="auth-terms">–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—è—Å—å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å <a href="#">–£—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a> –∏ <a href="#">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>.</p>
      </form>

      <div id="auth-error" class="error-message hidden"></div>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
  <div id="app" class="app hidden">
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–µ—Ä–≤–µ—Ä–æ–≤ -->
    <div class="servers-sidebar">
      <!-- –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–∑—å—è" (DM) -->
      <div class="server-item home-button" id="home-button" title="–î—Ä—É–∑—å—è">
        <svg width="24" height="24" viewBox="0 0 71 55" fill="none">
          <path d="M60.1045 0C63.6794 0 66.6667 2.98729 66.6667 6.56219V48.4378C66.6667 52.0127 63.6794 55 60.1045 55H55.8333V33.3333H60.1045C63.6794 33.3333 66.6667 30.346 66.6667 26.7711V6.56219C66.6667 2.98729 63.6794 0 60.1045 0Z" fill="currentColor"/>
          <path d="M10.9378 55C7.36288 55 4.37559 52.0127 4.37559 48.4378V6.56219C4.37559 2.98729 7.36288 0 10.9378 0H15.2084V21.6667H10.9378C7.36288 21.6667 4.37559 24.654 4.37559 28.2289V48.4378C4.37559 52.0127 7.36288 55 10.9378 55Z" fill="currentColor"/>
          <path d="M55.8333 0V21.6667H15.2084V0H10.9378C7.36288 0 4.37559 2.98729 4.37559 6.56219V48.4378C4.37559 52.0127 7.36288 55 10.9378 55H15.2084V33.3333H55.8333V55H60.1045C63.6794 55 66.6667 52.0127 66.6667 48.4378V6.56219C66.6667 2.98729 63.6794 0 60.1045 0H55.8333Z" fill="currentColor"/>
        </svg>
      </div>
      <div class="server-divider"></div>
      <div class="server-list" id="server-list">
        <!-- –°–µ—Ä–≤–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
      <button class="server-add-btn" id="add-server-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </button>
    </div>

    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (DM –∏–ª–∏ –∫–∞–Ω–∞–ª—ã —Å–µ—Ä–≤–µ—Ä–∞) -->
    <div class="channels-sidebar" id="channels-sidebar">
      <!-- –ü–∞–Ω–µ–ª—å –¥—Ä—É–∑–µ–π (DM) -->
      <div class="dm-sidebar" id="dm-sidebar">
        <div class="dm-header">
          <input type="text" id="dm-search" placeholder="–ù–∞–π—Ç–∏ –∏–ª–∏ –Ω–∞—á–∞—Ç—å –±–µ—Å–µ–¥—É" class="dm-search-input">
        </div>
        <div class="dm-tabs">
          <button class="dm-tab active" data-tab="friends" id="friends-tab">–î—Ä—É–∑—å—è</button>
          <button class="dm-tab" data-tab="nitro" id="nitro-tab">Nitro</button>
        </div>
        <div class="dm-content">
          <div class="dm-section" id="friends-section">
            <div class="dm-section-header">
              <span>–ü–†–Ø–ú–´–ï –°–û–û–ë–©–ï–ù–ò–Ø</span>
              <button class="dm-add-btn" id="new-dm-btn" title="–ù–∞–π—Ç–∏ –¥—Ä—É–≥–∞" onclick="showAddFriendModal()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
            </div>
            <div class="dm-list" id="dm-list">
              <!-- –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
          </div>
          <div class="dm-section hidden" id="friends-online-section">
            <div class="dm-section-header">
              <span>–í–°–ï –î–†–£–ó–¨–Ø</span>
              <button class="dm-add-btn" onclick="showAddFriendModal()" title="–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
            </div>
            <div class="friends-list" id="friends-list">
              <!-- –î—Ä—É–∑—å—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="friends-requests" id="friends-requests">
              <div class="friends-requests-header">
                <span>–ó–ê–ü–†–û–°–´ –í –î–†–£–ó–¨–Ø ‚Äî <span id="requests-count">0</span></span>
              </div>
              <div class="friends-requests-list" id="friends-requests-list">
                <!-- –ó–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
      <div class="server-channels-sidebar hidden" id="server-channels-sidebar">
      <div class="server-header">
        <h2 id="current-server-name">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä</h2>
        <button class="server-settings-btn" id="server-settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"></path>
          </svg>
        </button>
      </div>

      <div class="channels-header">
        <div class="channels-header-title">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          <span>–ö–ê–ù–ê–õ–´</span>
        </div>
        <button class="channel-add-btn" id="add-channel-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
      </div>

      <div class="channels-list" id="channels-list">
        <!-- –ö–∞–Ω–∞–ª—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>

      <div class="user-panel">
        <div class="user-info" id="user-info">
          <div class="user-avatar">
            <img id="user-avatar-img" src="" alt="Avatar">
          </div>
          <div class="user-details">
            <div class="user-name" id="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
            <div class="user-status" id="user-status">offline</div>
          </div>
        </div>
        <div class="user-controls">
          <button class="control-btn" id="mic-btn" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
          </button>
          <button class="control-btn" id="headphone-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path>
              <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>
            </svg>
          </button>
          <button class="control-btn" id="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
    <div class="messages-area">
      <div class="messages-header">
        <div class="channel-info">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          <h3 id="current-channel-name">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª</h3>
        </div>
        <div class="channel-actions">
          <button class="action-btn" id="search-btn" title="–ü–æ–∏—Å–∫">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
          <button class="action-btn" id="pin-btn" title="–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 17v5"></path>
              <path d="M8 10.5l-4-4 4-4"></path>
              <path d="M8 2.5h8a2 2 0 0 1 2 2v6"></path>
            </svg>
          </button>
          <button class="action-btn" id="members-toggle-btn" title="–£—á–∞—Å—Ç–Ω–∏–∫–∏">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Welcome Screen) -->
      <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
          <div class="welcome-icon">
            <svg width="80" height="80" viewBox="0 0 71 55" fill="none">
              <path d="M60.1045 0C63.6794 0 66.6667 2.98729 66.6667 6.56219V48.4378C66.6667 52.0127 63.6794 55 60.1045 55H55.8333V33.3333H60.1045C63.6794 33.3333 66.6667 30.346 66.6667 26.7711V6.56219C66.6667 2.98729 63.6794 0 60.1045 0Z" fill="#5865F2"/>
              <path d="M10.9378 55C7.36288 55 4.37559 52.0127 4.37559 48.4378V6.56219C4.37559 2.98729 7.36288 0 10.9378 0H15.2084V21.6667H10.9378C7.36288 21.6667 4.37559 24.654 4.37559 28.2289V48.4378C4.37559 52.0127 7.36288 55 10.9378 55Z" fill="#5865F2"/>
              <path d="M55.8333 0V21.6667H15.2084V0H10.9378C7.36288 0 4.37559 2.98729 4.37559 6.56219V48.4378C4.37559 52.0127 7.36288 55 10.9378 55H15.2084V33.3333H55.8333V55H60.1045C63.6794 55 66.6667 52.0127 66.6667 48.4378V6.56219C66.6667 2.98729 63.6794 0 60.1045 0H55.8333Z" fill="#5865F2"/>
            </svg>
          </div>
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Discord Clone!</h1>
          <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª –∏–ª–∏ –¥—Ä—É–≥–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è</p>
          <div class="welcome-actions">
            <button class="welcome-btn" onclick="showAddFriendModal()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞
            </button>
            <button class="welcome-btn" onclick="document.getElementById('add-server-btn').click()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
            </button>
          </div>
        </div>
      </div>

      <div class="messages-container" id="messages-container" style="display: none;">
        <div class="messages-list" id="messages-list">
          <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <div class="typing-indicator" id="typing-indicator" style="display: none;">
          <span id="typing-users"></span> –ø–µ—á–∞—Ç–∞–µ—Ç...
        </div>
      </div>

      <div class="message-input-container">
        <div class="message-input-wrapper">
          <div class="message-input-actions">
            <button class="input-action-btn" id="attach-btn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
              </svg>
            </button>
            <input type="file" id="file-input" multiple style="display: none;">
          </div>
          <textarea 
            id="message-input" 
            placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
            rows="1"
          ></textarea>
          <button class="send-btn" id="send-btn" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
        <div class="attachments-preview" id="attachments-preview"></div>
      </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
    <div class="members-sidebar" id="members-sidebar">
      <div class="members-header">
        <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>
        <button class="close-btn" id="close-members-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="members-list" id="members-list">
        <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
  <div id="modal-overlay" class="modal-overlay hidden">
    <div class="modal" id="modal">
      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ -->
  <div id="add-friend-modal" class="modal-overlay hidden">
    <div class="modal">
      <h2>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</h2>
      <p style="color: var(--text-secondary); margin-bottom: 20px;">–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ –¥—Ä—É–∑—å—è, –∏—Å–ø–æ–ª—å–∑—É—è –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
      <div class="form-group">
        <label for="friend-username">–ò–ú–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø</label>
        <input type="text" id="friend-username" placeholder="username" autocomplete="off">
        <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
      </div>
      <div id="friend-search-results" style="margin-top: 16px;"></div>
      <div style="display: flex; gap: 12px; margin-top: 20px;">
        <button type="button" class="btn-secondary" onclick="closeAddFriendModal()">–û—Ç–º–µ–Ω–∞</button>
        <button type="button" class="btn-primary" onclick="searchFriend()">–ü–æ–∏—Å–∫</button>
      </div>
    </div>
  </div>

  <!-- Canvas –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–æ–Ω–∞ -->
  <canvas id="background-canvas"></canvas>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
  <script src="socket-events.js"></script>
  <script src="webrtc.js"></script>
  <script src="friends.js"></script>
  
  <script>
    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
        .catch(err => console.error('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:', err));
    }
  </script>
</body>
</html>

